<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>FAHH</title>

<style>
:root{
  --bg: #000;
  --fg: #fff;
  --red: #e00000;
  --red-dark: #b00000;
}

html, body {
  margin: 0;
  height: 100%;
  background: var(--bg);
  color: var(--fg);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  transition: background-color 120ms linear, color 120ms linear;
}

body {
  display: grid;
  place-items: center;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
}

/* Background turns white while holding */
body.holding {
  background: #fff;
  color: #000;
}

.wrap {
  display: grid;
  gap: 22px;
  place-items: center;
}

/* BIG RED CIRCLE */
button {
  width: 220px;
  height: 220px;
  border-radius: 50%;
  border: none;
  background: radial-gradient(circle at 30% 30%, #ff2a2a, var(--red));
  color: #fff;
  font-size: 42px;
  font-weight: 900;
  letter-spacing: 3px;
  cursor: pointer;

  box-shadow:
    0 16px 0 var(--red-dark),
    0 24px 40px rgba(0,0,0,0.55);

  transform: translateY(0);
  transition: transform 70ms ease, box-shadow 70ms ease, filter 120ms ease;
}

/* Press effect */
button:active {
  transform: translateY(14px);
  box-shadow:
    0 4px 0 var(--red-dark),
    0 12px 20px rgba(0,0,0,0.5);
  filter: brightness(0.96);
}

.note {
  font-size: 13px;
  opacity: 0.6;
  letter-spacing: 0.6px;
}
</style>
</head>

<body>
<div class="wrap">
  <button id="btn">FAHH</button>
  <div class="note">Made by Knightwing</div>

  <audio id="sound" preload="auto">
    <source src="fahh.mp3" type="audio/mpeg">
    <source src="fahh.wav" type="audio/wav">
  </audio>
</div>

<script>
const btn = document.getElementById("btn");
const audio = document.getElementById("sound");

function setHolding(state){
  document.body.classList.toggle("holding", state);
}

async function playSound(){
  try{
    audio.currentTime = 0;
    await audio.play();
  }catch(e){
    console.warn(e);
  }
}

const pressStart = async (e) => {
  e.preventDefault();
  setHolding(true);
  await playSound();
};

const pressEnd = (e) => {
  e.preventDefault();
  setHolding(false);
};

btn.addEventListener("touchstart", pressStart, { passive: false });
btn.addEventListener("touchend", pressEnd, { passive: false });
btn.addEventListener("touchcancel", pressEnd, { passive: false });

btn.addEventListener("mousedown", pressStart);
window.addEventListener("mouseup", pressEnd);

btn.addEventListener("keydown", (e)=>{
  if(e.code === "Space" || e.code === "Enter"){
    setHolding(true);
    playSound();
  }
});
btn.addEventListener("keyup", (e)=>{
  if(e.code === "Space" || e.code === "Enter"){
    setHolding(false);
  }
});
</script>

</body>
</html>
